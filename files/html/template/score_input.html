<!DOCTYPE html>
<html lang="ja">
<head>
  {% include "ui_parts/meta.html" %}
</head>
<body>
  <div class="header_menu">{% include "ui_parts/menu_bar.html" %}</div>
  {% block content %}
  <h1>{{ playtime }}</h1>
  <form id="player_select" method="POST" action="">
    <div class="form_item">
      <label>東家：</label>
      <select class="name-select" id="p1_name" name="p1_name" required="required">
        <option value="other" {{ "" if p1_name in players else "selected" }}>ゲスト</option>
        {%- for item in players %}
        <option value="{{ item }}" {{ "selected" if p1_name == item else "" }}>{{ item }}</option>
        {%- endfor %}
      </select>
      <input type="text" class="name-other" id="p1_other" name="p1_other" placeholder="ゲストの名前を入力" value={{ p1_name }}>
      <input type="text" class="score-input" id="p1_str" name="p1_str" required="required" placeholder="素点" value={{ p1_str }}>
    </div>

    <div class="form_item">
      <label>南家：</label>
      <select class="name-select" id="p2_name" name="p2_name" required="required">
        <option value="other" {{ "" if p2_name in players else "selected" }}>ゲスト</option>
        {%- for item in players %}
        <option value="{{ item }}" {{ "selected" if p2_name == item else "" }}>{{ item }}</option>
        {%- endfor %}
      </select>
      <input type="text" class="name-other" id="p2_other" name="p2_other" placeholder="ゲストの名前を入力" value={{ p2_name }}>
      <input type="text" class="score-input" id="p2_str" name="p2_str" required="required" placeholder="素点" value={{ p2_str }}>
    </div>

    <div class="form_item">
      <label>西家：</label>
      <select class="name-select" id="p3_name" name="p3_name" required="required">
        <option value="other" {{ "" if p3_name in players else "selected" }}>ゲスト</option>
        {%- for item in players %}
        <option value="{{ item }}" {{ "selected" if p3_name == item else "" }}>{{ item }}</option>
        {%- endfor %}
      </select>
      <input type="text" class="name-other" id="p3_other" name="p3_other" placeholder="ゲストの名前を入力" value={{ p3_name }}>
      <input type="text" class="score-input" id="p3_str" name="p3_str" required="required" placeholder="素点" value={{ p3_str }}>
    </div>

    <div class="form_item">
      <label>北家：</label>
      <select class="name-select" id="p4_name" name="p4_name" required="required">
        <option value="other" {{ "" if p4_name in players else "selected" }}>ゲスト</option>
        {%- for item in players %}
        <option value="{{ item }}" {{ "selected" if p4_name == item else "" }}>{{ item }}</option>
        {%- endfor %}
      </select>
      <input type="text" class="name-other" id="p4_other" name="p4_other" placeholder="ゲストの名前を入力" value={{ p4_name }}>
      <input type="text" class="score-input" id="p4_str" name="p4_str" required="required" placeholder="素点" value={{ p4_str }}>
    </div>
    <div class="form_item">
      <div id="scoreCheck""></div>
    </div>
    <div class="form_item">
      <label>コメント：</label>
      <input type="text" id="comment" name="comment" placeholder="コメント" value={{ comment if comment != None else "" }}>
    </div>
    <div class="form_item">
      <button type="submit" name="action" value="update">更新</button>
      <button type="reset" name="action" value="reset">リセット</button>
    </div>
    <input type="hidden" id="mode" name="mode" value="{{ mode }}">
    <input type="hidden" id="playtime" name="playtime" value="{{ playtime }}">
    <input type="hidden" id="ts" name="ts" value="{{ ts }}">
  </form>
  <div id="nameError" style="color:red; font-weight:bold;"></div>
  {% endblock %}
  <script src="/static/score_check.js" charset="utf-8"></script>

  <p><a href="/score">スコア一覧に戻る</a></p>
  <div class="footer_menu">{% include "ui_parts/menu_bar.html" %}</div>
  <div id="app" data-origin-point="{{ origin_point }}"></div>
</body>
</html>
