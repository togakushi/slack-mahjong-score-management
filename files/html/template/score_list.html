<!DOCTYPE html>
<html lang="ja">
<head>
  {% include "ui_parts/meta.html" %}
</head>
<body>
  <div class="header_menu">{% include "ui_parts/menu_bar.html" %}</div>
  <h1>スコア管理</h1>
  {% block content %}
  <form method="POST" action="" onsubmit="return handleSubmit(event);">
    <div class="form-item">
      {{ table|safe }}
    </div>
    <p>
      <button type="submit" name="action" value="modify">追加 / 編集</button>
      <button type="submit" name="action" value="delete">削除</button>
      <button type="reset" name="action" value="reset">リセット</button>
    </p>
  </form>
  <script>
    function handleSubmit(event) {
      const button = event.submitter;
      if (button && button.value === "delete") {
        const checked = document.querySelector('input[name="ts"]:checked');
        if (!checked) {
          return false;
        }
        return confirm("削除します。");
      }
    return true;
  }
  </script>
  {% endblock %}

  {% include "form_items/result.html" %}

  <div class="footer_menu">{% include "ui_parts/menu_bar.html" %}</div>
</body>
</html>
